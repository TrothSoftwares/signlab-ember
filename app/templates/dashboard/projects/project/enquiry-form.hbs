<div class="row">
  <div class="col-md-10">
    {{paper-input label="Project Name" required=true value=project.name icon="description" required-errortext="Project Name is required."}}
  </div>
  <div class="col-md-2">
    {{#paper-button primary=true raised=true disabled=isSaveProjectButtonDisabled action="saveProject" }}
    {{paper-icon icon="save"}}
    {{/paper-button}}
    {{#paper-button primary=true raised=true action="deleteProject" param=project}}
    {{paper-icon icon="delete"}}
    {{/paper-button}}

    <!-- TODO: DELETE FUNCTION -->
  </div>
</div>




<div class="col-md-12">
  <div class="row row-margin">
    <div class="col-md-2">
      <label for="" class="labels">Customer</label>
    </div>
    <div class="col-md-9">
      {{ember-select-guru value=project.customer  options=customers onSelect=(action "onSelectCustomer") }}
    </div>
    <div class="col-md-1">
      {{#paper-button primary=true   raised=true   action="openCustomerComponent"}}
      <span class="glyphicon {{if showCustomerComponent "glyphicon-minus" "glyphicon-plus"}} "></span>
      {{/paper-button}}
    </div>
  </div>
  <div class="row">

      <div class="col-md-10 pull-right">
        {{#liquid-spacer growDuration=250}}
        {{#if showCustomerComponent}}
        {{#paper-card}}
        {{#paper-card-content}}
        <h3> Create New Customer</h3>
        <div class="col-md-10">
          <div class="row row-margin">
            {{paper-input label="Customer Name" required=true value=custname icon="person"  required-errortext="Customer name is required."}}
          </div>
          <div class="row row-margin">
            {{paper-input label="Customer contact Name"  value=custcontactname icon="person"}}
          </div>
          <div class="row row-margin">
            {{paper-input label="Customer contact number"  value=custcontactno icon="phone"}}
          </div>
          <div class="row row-margin">
            {{paper-input label="Other contact number"  value=custothcontactno icon="phone"}}
          </div>
          <div class="row row-margin">
            {{paper-input label="Other reference details"  value=custothrefdetails icon="place"}}
          </div>
        </div>
        <div class="col-md-2 "style="padding-top:10px">
          {{#paper-button primary=true   raised=true disabled=isCreateCustomerButtonDisabled   action="createCustomer"}}
          {{paper-icon icon="save"}}
          {{/paper-button}}
        </div>
        {{/paper-card-content}}
        {{/paper-card}}
        {{/if}}
        {{/liquid-spacer}}
      </div>

  </div>
  <div class="row row-margin">
    <div class="col-md-2">
      <label for="" class="labels">Agent</label>
    </div>
    <div class="col-md-9">
      {{ember-select-guru value=project.agent  options=agents onSelect=(action "onSelectAgent") }}
    </div>
    <div class="col-md-1">
      {{#paper-button primary=true   raised=true   action="openAgentComponent"}}
      <span class="glyphicon {{if showAgentComponent "glyphicon-minus" "glyphicon-plus"}} "></span>
      {{/paper-button}}
    </div>
  </div>
  <div class="row">

      <div class="col-md-10 pull-right " style="">
        {{#liquid-spacer growDuration=250}}
        {{#if showAgentComponent}}
        {{#paper-card}}
        {{#paper-card-content}}
        <h3> Create New Agent</h3>
        <div class="col-md-10">
          <div class="row row-margin">
            {{paper-input label="Agent Name" required=true value=agentname icon="person"  required-errortext="Agent name is required."}}
          </div>
          <div class="row row-margin">
            {{paper-input label="Agent contact Name"  value=agentcontactname icon="person"}}
          </div>
          <div class="row row-margin">
            {{paper-input label="Agent contact number"  value=agentcontactno icon="phone"}}
          </div>
          <div class="row row-margin">
            {{paper-input label="Other contact number"  value=agentothcontactno icon="phone"}}
          </div>
          <div class="row row-margin">
            {{paper-input label="Other reference details"  value=agentothrefdetails icon="place"}}
          </div>
        </div>
        <div class="col-md-2 "style="padding-top:10px">
          {{#paper-button primary=true   raised=true disabled=isCreateAgentButtonDisabled   action="createAgent"}}
          {{paper-icon icon="save"}}
          {{/paper-button}}
        </div>
        {{/paper-card-content}}
        {{/paper-card}}

        {{/if}}
        {{/liquid-spacer}}
      </div>

  </div>
  <div class="row row-margin">
      <div class="col-md-2">
        <label for="" class="labels">Date</label>
      </div>
      <div class="col-md-10 pickaday">
        {{pikaday-input value=project.enquiries.lastObject.date  format="DD-MM-YYYY" theme="form-input" }}
      </div>
  </div>
  <div class="row row-margin">
    <div class="col-md-12">
      {{paper-input label="Enquiry No" value=project.enquiries.lastObject.no icon="view-list"  }}
    </div>
  </div>
  <!-- //FIXME :    Site location variable not showing value -->

  {{#paper-card}}
  {{#paper-card-content}}
  {{#each project.items as |item index|}}

  {{#paper-card}}
  <div class="md-actions" layout="row" layout-align="end center">
    {{#paper-button  raised=true action="deleteItem" param=item }} {{paper-icon icon="delete"}}{{/paper-button}}
  </div>
  <hr class="thin bg-grayLighter">
  {{#paper-card-content}}
  {{#paper-list}}
  {{#paper-item class="md-3-line"}}
  <h3> Item {{ incrementone index}}</h3>
  <div class="md-list-item-text">
    {{paper-input label="Dimensions" value=item.dimensions icon="tune"  }}
    {{paper-input label="Description" value=item.description icon="assignment"  }}

    <div class="row row-margin">
      <div class="col-md-2">
        <label for="" class="labels">Item Type</label>
      </div>
      <div class="col-md-10">
        {{ember-select-guru value=item.itemtype  options=itemtypes onSelect=(action "onSelectItemtypes" index) }}
      </div>
    </div>

    <div class="row row-margin">
      <div class="col-md-2">
        <label for="" class="labels">Job Type</label>
      </div>
      <div class="col-md-10">
        {{ember-select-guru value=item.jobtype  options=jobtypes onSelect=(action "onSelectJobtypes" index) }}
      </div>
    </div>
  </div>
  {{/paper-item}}
  {{/paper-list}}
  {{/paper-card-content}}
  {{/paper-card}}
  {{/each}}
  {{/paper-card-content}}
  <div class="md-actions" layout="row" layout-align="end center">
    {{#paper-button  raised=true action="AddNewItem"}}{{paper-icon icon="add"}}{{/paper-button}}
  </div>
  {{/paper-card}}
</div>

{{outlet}}
